<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="1200"
   height="900"
   viewBox="0 0 1200 900"
   version="1.1"
   id="svg1"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <title>VSLAM Process Diagram</title>
  <desc>Diagram showing the Visual SLAM process for robotics applications</desc>

  <!-- Background -->
  <rect width="100%" height="100%" fill="#ffffff"/>

  <!-- Title -->
  <text x="600" y="40" font-family="Arial" font-size="28" text-anchor="middle" fill="#000000" font-weight="bold">
    Visual SLAM Process for Robotics
  </text>

  <!-- Input Sensors Box -->
  <rect x="50" y="80" width="200" height="120" fill="#e6ffe6" stroke="#00cc00" stroke-width="2" rx="10" ry="10"/>
  <text x="150" y="110" font-family="Arial" font-size="16" text-anchor="middle" fill="#000000" font-weight="bold">
    Input Sensors
  </text>

  <!-- Camera Input -->
  <rect x="70" y="140" width="160" height="30" fill="#ccffcc" stroke="#009900" stroke-width="1" rx="5" ry="5"/>
  <text x="150" y="160" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    RGB Camera(s)
  </text>

  <!-- Stereo Camera Input -->
  <rect x="70" y="180" width="160" height="30" fill="#ccffcc" stroke="#009900" stroke-width="1" rx="5" ry="5"/>
  <text x="150" y="200" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    Stereo Camera / RGB-D
  </text>

  <!-- Preprocessing Box -->
  <rect x="300" y="80" width="200" height="120" fill="#e6f3ff" stroke="#0066cc" stroke-width="2" rx="10" ry="10"/>
  <text x="400" y="110" font-family="Arial" font-size="16" text-anchor="middle" fill="#000000" font-weight="bold">
    Preprocessing
  </text>

  <!-- Feature Detection -->
  <rect x="320" y="140" width="160" height="30" fill="#cceeff" stroke="#0066cc" stroke-width="1" rx="5" ry="5"/>
  <text x="400" y="160" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    Feature Detection (ORB/SIFT)
  </text>

  <!-- Image Enhancement -->
  <rect x="320" y="180" width="160" height="30" fill="#cceeff" stroke="#0066cc" stroke-width="1" rx="5" ry="5"/>
  <text x="400" y="200" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    Image Enhancement
  </text>

  <!-- VSLAM Core Process Box -->
  <rect x="550" y="80" width="500" height="700" fill="#ffe6e6" stroke="#cc0000" stroke-width="2" rx="10" ry="10"/>
  <text x="800" y="110" font-family="Arial" font-size="16" text-anchor="middle" fill="#000000" font-weight="bold">
    VSLAM Core Process
  </text>

  <!-- Feature Tracking Box -->
  <rect x="580" y="140" width="440" height="60" fill="#ffcccc" stroke="#cc0000" stroke-width="1" rx="5" ry="5"/>
  <text x="800" y="165" font-family="Arial" font-size="14" text-anchor="middle" fill="#000000" font-weight="bold">
    Feature Tracking
  </text>
  <text x="800" y="185" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    (Track features across frames, handle occlusions and reappearances)
  </text>

  <!-- Pose Estimation Box -->
  <rect x="580" y="230" width="440" height="60" fill="#ffcccc" stroke="#cc0000" stroke-width="1" rx="5" ry="5"/>
  <text x="800" y="255" font-family="Arial" font-size="14" text-anchor="middle" fill="#000000" font-weight="bold">
    Pose Estimation
  </text>
  <text x="800" y="275" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    (Estimate camera/robot pose using tracked features)
  </text>

  <!-- Mapping Box -->
  <rect x="580" y="320" width="440" height="60" fill="#ffcccc" stroke="#cc0000" stroke-width="1" rx="5" ry="5"/>
  <text x="800" y="345" font-family="Arial" font-size="14" text-anchor="middle" fill="#000000" font-weight="bold">
    Mapping
  </text>
  <text x="800" y="365" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    (Create and update 3D map of environment)
  </text>

  <!-- Loop Closure Box -->
  <rect x="580" y="410" width="440" height="60" fill="#ffcccc" stroke="#cc0000" stroke-width="1" rx="5" ry="5"/>
  <text x="800" y="435" font-family="Arial" font-size="14" text-anchor="middle" fill="#000000" font-weight="bold">
    Loop Closure
  </text>
  <text x="800" y="455" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    (Detect revisited locations, correct drift)
  </text>

  <!-- Bundle Adjustment Box -->
  <rect x="580" y="500" width="440" height="60" fill="#ffcccc" stroke="#cc0000" stroke-width="1" rx="5" ry="5"/>
  <text x="800" y="525" font-family="Arial" font-size="14" text-anchor="middle" fill="#000000" font-weight="bold">
    Bundle Adjustment
  </text>
  <text x="800" y="545" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    (Optimize poses and 3D points simultaneously)
  </text>

  <!-- Relocalization Box -->
  <rect x="580" y="590" width="440" height="60" fill="#ffcccc" stroke="#cc0000" stroke-width="1" rx="5" ry="5"/>
  <text x="800" y="615" font-family="Arial" font-size="14" text-anchor="middle" fill="#000000" font-weight="bold">
    Relocalization
  </text>
  <text x="800" y="635" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    (Recover from tracking failure)
  </text>

  <!-- Map Optimization Box -->
  <rect x="580" y="680" width="440" height="60" fill="#ffcccc" stroke="#cc0000" stroke-width="1" rx="5" ry="5"/>
  <text x="800" y="705" font-family="Arial" font-size="14" text-anchor="middle" fill="#000000" font-weight="bold">
    Map Optimization
  </text>
  <text x="800" y="725" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    (Maintain consistent map over time)
  </text>

  <!-- Output Box -->
  <rect x="50" y="240" width="200" height="120" fill="#e6e6ff" stroke="#6600cc" stroke-width="2" rx="10" ry="10"/>
  <text x="150" y="270" font-family="Arial" font-size="16" text-anchor="middle" fill="#000000" font-weight="bold">
    VSLAM Output
  </text>

  <!-- Robot Pose -->
  <rect x="70" y="300" width="160" height="30" fill="#ccccff" stroke="#6600cc" stroke-width="1" rx="5" ry="5"/>
  <text x="150" y="320" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    Robot Pose (Position &amp; Orientation)
  </text>

  <!-- 3D Map -->
  <rect x="70" y="340" width="160" height="30" fill="#ccccff" stroke="#6600cc" stroke-width="1" rx="5" ry="5"/>
  <text x="150" y="360" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    3D Map (Point Cloud / Mesh)
  </text>

  <!-- Isaac ROS Integration Box -->
  <rect x="50" y="400" width="200" height="100" fill="#fff0cc" stroke="#ff9900" stroke-width="2" rx="10" ry="10"/>
  <text x="150" y="425" font-family="Arial" font-size="14" text-anchor="middle" fill="#000000" font-weight="bold">
    Isaac ROS
    Integration
  </text>

  <!-- GPU Acceleration -->
  <rect x="70" y="460" width="160" height="30" fill="#ffec99" stroke="#ff9900" stroke-width="1" rx="5" ry="5"/>
  <text x="150" y="480" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    GPU Acceleration
  </text>

  <!-- Robotics Interface -->
  <rect x="70" y="500" width="160" height="30" fill="#ffec99" stroke="#ff9900" stroke-width="1" rx="5" ry="5"/>
  <text x="150" y="520" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    Robotics Interface
  </text>

  <!-- Robotics Application Box -->
  <rect x="50" y="540" width="200" height="120" fill="#ffe6e6" stroke="#cc0000" stroke-width="2" rx="10" ry="10"/>
  <text x="150" y="565" font-family="Arial" font-size="14" text-anchor="middle" fill="#000000" font-weight="bold">
    Robotics
    Applications
  </text>

  <!-- Navigation -->
  <rect x="70" y="600" width="160" height="30" fill="#ffcccc" stroke="#cc0000" stroke-width="1" rx="5" ry="5"/>
  <text x="150" y="620" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    Navigation (Nav2)
  </text>

  <!-- Manipulation -->
  <rect x="70" y="640" width="160" height="30" fill="#ffcccc" stroke="#cc0000" stroke-width="1" rx="5" ry="5"/>
  <text x="150" y="660" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    Manipulation
  </text>

  <!-- Process Flow Arrows -->
  <!-- From Input Sensors to Preprocessing -->
  <line x1="250" y1="140" x2="300" y2="140" stroke="#666666" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="275" y="125" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    Raw Images
  </text>

  <!-- From Preprocessing to VSLAM Core -->
  <line x1="500" y1="140" x2="580" y2="170" stroke="#666666" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="540" y="125" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    Processed Features
  </text>

  <!-- From VSLAM Core to Output -->
  <line x1="580" y1="710" x2="250" y2="300" stroke="#666666" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow)"/>
  <text x="415" y="520" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    Pose &amp; Map Data
  </text>

  <!-- From Output to Isaac ROS Integration -->
  <line x1="150" y1="370" x2="150" y2="400" stroke="#666666" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- From Isaac ROS to Robotics Applications -->
  <line x1="150" y1="500" x2="150" y2="540" stroke="#666666" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Internal VSLAM Process Arrows -->
  <line x1="800" y1="200" x2="800" y2="230" stroke="#999999" stroke-width="1" marker-end="url(#arrow)"/>
  <line x1="800" y1="290" x2="800" y2="320" stroke="#999999" stroke-width="1" marker-end="url(#arrow)"/>
  <line x1="800" y1="380" x2="800" y2="410" stroke="#999999" stroke-width="1" marker-end="url(#arrow)"/>
  <line x1="800" y1="470" x2="800" y2="500" stroke="#999999" stroke-width="1" marker-end="url(#arrow)"/>
  <line x1="800" y1="560" x2="800" y2="590" stroke="#999999" stroke-width="1" marker-end="url(#arrow)"/>
  <line x1="800" y1="650" x2="800" y2="680" stroke="#999999" stroke-width="1" marker-end="url(#arrow)"/>

  <!-- Feedback Loops -->
  <!-- Loop Closure Feedback -->
  <line x1="1020" y1="440" x2="1020" y2="170" stroke="#cc6600" stroke-width="1" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
  <text x="1050" y="300" font-family="Arial" font-size="10" text-anchor="middle" fill="#cc6600" transform="rotate(-90, 1050, 300)">
    Loop Closure Correction
  </text>

  <!-- Map Optimization Feedback -->
  <line x1="1020" y1="710" x2="1020" y2="170" stroke="#cc6600" stroke-width="1" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
  <text x="1060" y="440" font-family="Arial" font-size="10" text-anchor="middle" fill="#cc6600" transform="rotate(-90, 1060, 440)">
    Optimization Updates
  </text>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#666666" />
    </marker>
  </defs>

  <!-- VSLAM Algorithm Types -->
  <rect x="580" y="770" width="440" height="100" fill="#e6ffe6" stroke="#00cc00" stroke-width="2" rx="10" ry="10"/>
  <text x="800" y="800" font-family="Arial" font-size="16" text-anchor="middle" fill="#000000" font-weight="bold">
    VSLAM Algorithm Types
  </text>

  <!-- Feature-based -->
  <rect x="600" y="830" width="120" height="30" fill="#ccffcc" stroke="#009900" stroke-width="1" rx="5" ry="5"/>
  <text x="660" y="850" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    Feature-based
    (ORB-SLAM)
  </text>

  <!-- Direct -->
  <rect x="740" y="830" width="120" height="30" fill="#ccffcc" stroke="#009900" stroke-width="1" rx="5" ry="5"/>
  <text x="800" y="850" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    Direct
    (LSD-SLAM)
  </text>

  <!-- Semi-Direct -->
  <rect x="880" y="830" width="120" height="30" fill="#ccffcc" stroke="#009900" stroke-width="1" rx="5" ry="5"/>
  <text x="940" y="850" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    Semi-Direct
    (DSO)
  </text>

  <!-- Key Processing Stages -->
  <text x="100" y="700" font-family="Arial" font-size="14" text-anchor="start" fill="#000000" font-weight="bold">
    Key Processing Stages:
  </text>
  <text x="100" y="720" font-family="Arial" font-size="12" text-anchor="start" fill="#000000">
    1. Feature Detection &amp; Matching
  </text>
  <text x="100" y="740" font-family="Arial" font-size="12" text-anchor="start" fill="#000000">
    2. Pose Estimation via PnP
  </text>
  <text x="100" y="760" font-family="Arial" font-size="12" text-anchor="start" fill="#000000">
    3. 3D Reconstruction &amp; Mapping
  </text>
  <text x="100" y="780" font-family="Arial" font-size="12" text-anchor="start" fill="#000000">
    4. Loop Closure &amp; Global Optimization
  </text>

  <!-- Legend -->
  <rect x="50" y="850" width="300" height="40" fill="#f9f9f9" stroke="#cccccc" stroke-width="1"/>
  <text x="200" y="875" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    Sensors: Green | Processing: Blue | VSLAM: Red | Robotics: Orange
  </text>

  <!-- Labels -->
  <text x="600" y="895" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000">
    Visual SLAM process showing data flow from sensors to robotics applications with Isaac ROS integration
  </text>

  <!-- Performance Considerations -->
  <rect x="380" y="770" width="300" height="100" fill="#fff0f0" stroke="#cc6666" stroke-width="1" rx="5" ry="5"/>
  <text x="530" y="790" font-family="Arial" font-size="12" text-anchor="middle" fill="#000000" font-weight="bold">
    Performance Considerations
  </text>
  <text x="530" y="810" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    • Real-time processing requirements
  </text>
  <text x="530" y="825" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    • Computational efficiency
  </text>
  <text x="530" y="840" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    • GPU acceleration benefits
  </text>
  <text x="530" y="855" font-family="Arial" font-size="10" text-anchor="middle" fill="#000000">
    • Accuracy vs. speed trade-offs
  </text>

</svg>